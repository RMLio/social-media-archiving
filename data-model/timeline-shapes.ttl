@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix bsm: <http://w3id.org/besocial/ns/model#> .
@prefix bss: <http://w3id.org/besocial/ns/shapes#> .
@prefix bsd: <http://w3id.org/besocial/data/> .
@prefix edm: <http://www.europeana.eu/schemas/edm#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

bss:collectionTimelineShape
  a sh:NodeShape ;
  sh:targetClass bsm:SocialMediaPostsObservation ;
  dc:title "collectionTimelineShape"@en ;
  dc:description "There should be at least two correct timeline measurements for a collection, such that a timeline chart can be shown."@en ;
  dc:creator <https://sven-lieber.org/profile#me> ;
  sh:property [
    sh:path [ sh:inversePath bsd:collectionDimension ] ;
    sh:qualifiedValueShape bss:correctMonthlyMeasurementShape ;
    sh:qualifiedMinCount 2 ;
  ] .

bss:correctMonthlyMeasurementShape
  a sh:NodeShape ;
  dc:title "correctMonthlyMeasurementShape"@en ;
  dc:descriptioon "A data shape for a RDF data cube observation of a number of social media posts per month and year. The constraints should ensure that the observation can be displayed in a chart."@en ;
  dc:creator <https://sven-lieber.org/profile#me> ;
  sh:property [
    sh:path bsm:monthDimension ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:datatype xsd:integer ;
  ] ;
  sh:property [
    sh:path bsm:yearDimension ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:datatype xsd:integer ;
  ] ;
  sh:property [
    sh:path bsm:numberPosts ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:datatype xsd:integer ;
  ] .
